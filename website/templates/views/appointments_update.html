{% extends 'base.html' %} {% block head %}
<title>appointments update</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="{{url_for('static', filename='js/apptTotalSum.js')}}"></script>
{% endblock %} {% block body %}
<div class="content">
  <h1 style="text-align: center">Appointments</h1>

  <form action="/appointment/{{appointment.id}}" method="POST">
    <div class="form-group">
      <label for="clientName">Client Name</label>
      <input
        type="text"
        class="form-control"
        id="clientName"
        value="{{appointment.client}}"
      />
    </div>
    <div class="form-group">
      <label for="service">Service</label>
      {% if serviceList | length < 1 %}
      <select
        multiple
        class="form-control"
        name="service"
        id="service"
        disabled
      ></select>
      {% else %}
      <select class="form-control" name="service" id="service">
        {% for s in serviceList %} {% if service.name in s.name %}
        <option value="{{s.id}} {{s.price}}" selected>
          {{s.name}} ${{s.price}}
        </option>
        {% else %}
        <option value="{{s.id}} {{s.price}}">{{s.name}} ${{s.price}}</option>
        {% endif %} {% endfor %}
      </select>
      {% endif %}
    </div>
    <div class="form-group">
      <label for="employee">Employee</label>
      {% if employeeList | length < 1 %}
      <select class="form-control" id="employee" disabled></select>
      {% else %}
      <select class="form-control" id="employee" value="{{employee}}">
        {% for e in employeeList %}
        <option value="{{e.id}}">{{e.name}}</option>
        {% endfor %}
      </select>
      {% endif %}
    </div>
    <div class="form-group">
      <label for="clientName">Appointment Date and Time</label>
      <input
        type="date"
        class="form-control"
        id="appt_date"
        value="{{appt_date}}"
      />
      <input
        type="time"
        class="form-control"
        id="appt_time"
        value="{{appt_time}}"
      />
    </div>
    <div class="form-group">
      <label for="tip">Tip</label>
      <input
        type="number"
        class="form-control"
        name="tip"
        id="tip"
        placeholder="0"
      />
    </div>
    <div class="form-group">
      <label for="total">Total</label>
      <input
        type="number"
        class="form-control"
        name="total"
        id="total"
        placeholder="0"
        disabled
      />
    </div>
    <input type="submit" class="btn btn-primary mb-2" />
  </form>
</div>
{% endblock %}
